# 🌿 健康循环提醒 - 桌面版

完全本地运行的桌面应用，支持自动更新，数据只保存在你的电脑上。

---

## 👀 先预览（无需安装）

**在浏览器中预览界面：**
1. 双击 `src/index.html` 文件
2. 浏览器中会显示应用界面
3. 可以调整设置、测试计时器
4. **注意**：浏览器版计时在后台会暂停，声音也可能受限

**桌面版的区别：**
- ✅ 后台运行稳定计时
- ✅ 系统级通知（锁屏也能收到）
- ✅ 声音 100% 可靠
- ✅ 托盘图标，不占用 Dock
- ✅ 开机自启
- ✅ 自动更新

---

## 🚀 安装方法（推荐）

### 方法 1：下载预编译版本

去 [Releases](../../releases) 页面下载：
- **macOS**: `HealthTimer_1.0.0_x64.dmg`
- **Windows**: `HealthTimer_1.0.0_x64.msi`
- **Linux**: `health-timer_1.0.0_amd64.deb`

### 方法 2：自己编译

```bash
# 安装 Rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# 进入项目目录
cd health-timer-desktop

# 一键编译
./install-mac.sh  # macOS
./build.sh        # 其他系统
```

---

## 🔄 自动更新系统

### 如何工作

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│   你的电脑   │────▶│  GitHub/    │◀────│  开发者     │
│  (旧版本)   │     │  更新服务器  │     │  (发布新版) │
└─────────────┘     └─────────────┘     └─────────────┘
       │
       ▼ 每天自动检查一次
┌─────────────┐
│ 发现 v1.1.0 │
└─────────────┘
       │
       ▼ 提示用户
┌─────────────┐
│ 下载并安装  │
└─────────────┘
       │
       ▼ 重启应用
┌─────────────┐
│   v1.1.0   │ ✅ 更新完成！
└─────────────┘
```

### 触发更新的方式

1. **自动检查**：启动时自动检查（每天一次）
2. **手动检查**：托盘菜单 → 检查更新
3. **开发者推送**：我有新功能时发布新版本

### 更新内容示例

- v1.0.0 - 初始版本
- v1.1.0 - 新增统计图表
- v1.2.0 - 新增番茄钟模式
- v2.0.0 - 全新界面设计

---

## 📝 使用说明

### 基本操作

1. **设置时间**
   - 工作时长：25-45 分钟推荐
   - 休息时长：5-15 分钟推荐

2. **开始计时**
   - 点击「开始」按钮
   - 可以关闭窗口（应用会在托盘继续运行）

3. **收到提醒**
   - 时间到播放提示音
   - 显示系统通知
   - 点击「开始休息/工作」进入下一阶段

### 托盘功能

点击屏幕顶部（macOS）或右下角（Windows）的 🌿 图标：
- **显示** - 打开主窗口
- **隐藏** - 最小化到托盘
- **检查更新** - 手动检查新版本
- **退出** - 完全关闭应用

---

## 🛠️ 更新机制详解

### 对于用户（你）

**什么都不用做！**
- 有新版本会自动提示
- 点击"更新"按钮
- 等待 10 秒自动完成
- 重启应用即可

**数据会丢失吗？**
- 不会！设置和统计都会保留
- 只替换程序文件

### 对于开发者（我）

当有新需求时：
1. 你告诉我想要的功能
2. 我修改代码
3. 发布新版本到 GitHub
4. 你的应用自动检测到更新
5. 一键升级

---

## 🔒 隐私与安全

| 项目 | 说明 |
|------|------|
| **数据存储** | 只存在你电脑的本地文件 |
| **网络连接** | 仅用于检查更新 |
| **上传数据** | 不上传任何个人信息 |
| **开源** | 代码完全透明 |

---

## 🆘 常见问题

### 更新失败怎么办？

**方法 1**：重新下载安装包手动安装  
**方法 2**：检查网络连接  
**方法 3**：暂时跳过，下次启动再试

### 不想自动更新？

在设置中可以关闭自动检查：
```javascript
// 修改 src/index.html 中的 autoCheckUpdate 函数
// 或者直接删除该函数调用
```

### 更新后设置丢失？

这是 Bug，请联系我修复。正常情况下设置会保留。

---

## 💡 版本历史

### v1.0.0 (当前版本)
- ✅ 基础计时功能
- ✅ 工作/休息自动循环
- ✅ 系统通知
- ✅ 音量控制
- ✅ 自动更新框架

### 计划中的功能
- 📊 周/月统计图表
- 🎯 自定义目标设定
- 🎨 多种主题切换
- 📱 手机端同步
- 🔔 多种提醒音效

有想要的功能？告诉我！

---

## 🎁 支持

如果觉得好用：
1. ⭐ 给项目点个 star
2. 🐛 发现问题提 issue
3. 💡 有新想法告诉我

**祝你身体健康，颈椎不痛！** 🌿
